<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/stylesheets/style.css" />
		<title>My Organizations</title>
	</head>

	<body>
		<%- include('../partials/_navbar.ejs') %>

		<div class="index-container">
			<div class="org-heading">
				<h1>My organizations ğŸ›ï¸</h1>
				<a href="/organizations/new" class="org-link">+ New Organization</a>
			</div>

			<% 
				const ownedOrganizations = organizations.filter(org => 
					org.owner._id.equals(currentUserId)
				); 
			%>
	
			<% if (ownedOrganizations.length > 0) {%>
				<div class="card-container">
					<% ownedOrganizations.forEach((organization)=> { %>
						<div class="listing-org-card">
							<h3><%= organization.orgName %></h3>
							<p><%= organization.cause%> Cause</p>
							<a href="/organizations/<%= organization._id %>" class="view-details">View more details</a>
						</div>
					<% }) %>
				</div>
			<% } else { %>
				<p class="card-message"> No organizations found. Go ahead and create one! </p>
			<% } %>

		</div>
	</body>

</html>